# –ü—Ä–∞–∫—Ç–∏–∫—É–º 7: –ß–æ–º—É "–ë–∞–Ω–∫–∞" Monobank –Ω–µ –≥—É–±–∏—Ç—å –≤–∞—à—ñ –¥–æ–Ω–∞—Ç–∏?

## –í—Å—Ç—É–ø

–ü—Ä–∏–≤—ñ—Ç\! –°—å–æ–≥–æ–¥–Ω—ñ –º–∏ –≤—ñ–¥—ñ–π–¥–µ–º–æ –≤—ñ–¥ —Å—É—Ö–æ—ó —Ç–µ–æ—Ä—ñ—ó —ñ –ø–æ–¥–∏–≤–∏–º–æ—Å—å, —è–∫ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å –ø—Ä–∞—Ü—é—î –≤ —Å–∏—Å—Ç–µ–º–∞—Ö, —è–∫–∏–º–∏ –≤–∏ –∫–æ—Ä–∏—Å—Ç—É—î—Ç–µ—Å—å —â–æ–¥–Ω—è. –ù–∞—à–∏–º –ø—ñ–¥–¥–æ—Å–ª—ñ–¥–Ω–∏–º –±—É–¥–µ –æ–¥–Ω–∞ –∑ –Ω–∞–π–≤—ñ–¥–æ–º—ñ—à–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –≤ –£–∫—Ä–∞—ó–Ω—ñ ‚Äî "–ë–∞–Ω–∫–∞" –¥–ª—è –∑–±–æ—Ä—É –¥–æ–Ω–∞—Ç—ñ–≤. üè¶

–ù–∞—à–∞ –º–µ—Ç–∞ ‚Äî –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫—É –∫—Ä–∏—Ç–∏—á–Ω—É –ø—Ä–æ–±–ª–µ–º—É –≤–∏—Ä—ñ—à—É—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è, —ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **–∫—ñ–Ω—Ü–µ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç**: —Å–∏–º—É–ª—è—Ç–æ—Ä, —â–æ –¥–æ–≤–æ–¥–∏—Ç—å, —á–æ–º—É –∂–æ–¥–Ω–∞ –≥—Ä–∏–≤–Ω—è –∑ –≤–∞—à–æ–≥–æ –¥–æ–Ω–∞—Ç—É –Ω–µ –∑–Ω–∏–∫–∞—î, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ç–∏—Å—è—á—ñ –ª—é–¥–µ–π –¥–æ–Ω–∞—Ç—è—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ.

–¶–µ–π –ø—Ä–∞–∫—Ç–∏–∫—É–º —î –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–º –¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è–º –¥–æ [–õ–µ–∫—Ü—ñ—ó 6: –ü–æ–¥–æ—Ä–æ–∂ —É —Å–≤—ñ—Ç –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å](06_threads.md), –¥–µ –º–∏ —Ä–æ–∑–≥–ª—è–¥–∞—î–º–æ –ø–æ–≤–Ω—É —Ç–µ–æ—Ä—ñ—é –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ.

-----

## –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∏–π –º—ñ–Ω—ñ–º—É–º. –©–æ —Ç–∞–∫–µ –ø–æ—Ç—ñ–∫?

–Ø–∫—â–æ –∫–æ—Ä–æ—Ç–∫–æ, **–ø–æ—Ç—ñ–∫ (Thread)** ‚Äî —Ü–µ —è–∫ –æ–∫—Ä–µ–º–∏–π —Ä–æ–±—ñ—Ç–Ω–∏–∫ —É –≤–∞—à—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ. –í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –º–æ–∂–µ –º–∞—Ç–∏ –±–∞–≥–∞—Ç–æ —Ç–∞–∫–∏—Ö "—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤", —â–æ –≤–∏–∫–æ–Ω—É—é—Ç—å —Ä—ñ–∑–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∞–Ω—ñ–º–∞—Ü—ñ—é –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, –∞ —ñ–Ω—à–∏–π –≤ —Ü–µ–π —á–∞—Å —Ä–µ–∞–ª—å–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –∑ –º–µ—Ä–µ–∂—ñ. –¶–µ —Ä–æ–±–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–∏ —à–≤–∏–¥–∫–∏–º–∏ —Ç–∞ –≤—ñ–¥–≥—É–∫–ª–∏–≤–∏–º–∏.

**–Ø–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Ç—ñ–∫?**

–Ñ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–ø–æ—Å–æ–±–∏, –∞–ª–µ –º–∏ —Å—Ñ–æ–∫—É—Å—É—î–º–æ—Å—å –Ω–∞ —Å—É—á–∞—Å–Ω–æ–º—É —Ç–∞ –≥–Ω—É—á–∫–æ–º—É ‚Äî —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Runnable`. –¶–µ –ø—Ä–æ—Å—Ç–æ —à–º–∞—Ç–æ–∫ –∫–æ–¥—É, —è–∫–∏–π –º–∏ —Ö–æ—á–µ–º–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –≤ –æ–∫—Ä–µ–º–æ–º—É –ø–æ—Ç–æ—Ü—ñ. –ù–∞–π–∑—Ä—É—á–Ω—ñ—à–µ —Ü–µ —Ä–æ–±–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ª—è–º–±–¥–∞-–≤–∏—Ä–∞–∑—ñ–≤:

```java
Runnable task = () -> {
    System.out.println("–ü—Ä–∏–≤—ñ—Ç –∑ –Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫—É!");
};
Thread myThread = new Thread(task);
```

**–ù–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–µ –ø—Ä–∞–≤–∏–ª–æ: `start()` vs `run()`**

–©–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø–æ—Ç—ñ–∫, **–∑–∞–≤–∂–¥–∏** –≤–∏–∫–ª–∏–∫–∞–π—Ç–µ –º–µ—Ç–æ–¥ `start()`. –Ø–∫—â–æ –≤–∏ –ø–æ–º–∏–ª–∫–æ–≤–æ –≤–∏–∫–ª–∏—á–µ—Ç–µ `run()`, –∫–æ–¥ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è, –∞–ª–µ –≤ —Ç–æ–º—É –∂ —Å–∞–º–æ–º—É, –≥–æ–ª–æ–≤–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ, —ñ –Ω—ñ—è–∫–æ—ó –º–∞–≥—ñ—ó –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ—Å—Ç—ñ –Ω–µ —Å—Ç–∞–Ω–µ—Ç—å—Å—è.

  * `myThread.start();` // **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**. –ó–∞–ø—É—Å–∫–∞—î –Ω–æ–≤–æ–≥–æ "—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞".
  * `myThread.run();` // **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**. –†–æ–±–∏—Ç–µ —Ä–æ–±–æ—Ç—É —Å–∞–º—ñ, –∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –¥–æ—Ä—É—á–∏—Ç–∏ —ó—ó –Ω–æ–≤–æ–º—É —Ä–æ–±—ñ—Ç–Ω–∏–∫—É.

-----

## –ü—Ä–æ–±–ª–µ–º–∞: "–í—Ç—Ä–∞—á–µ–Ω—ñ –¥–æ–Ω–∞—Ç–∏"

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ ‚Äî –∫–æ–º–∞–Ω–¥–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, —ñ –Ω–∞–º –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –∑–∞–¥–∞—á—É —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É "–ë–∞–Ω–∫–∏". –ú–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –ø—Ä–æ—Å—Ç–∏–π –∫–ª–∞—Å, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î –∑–∞–≥–∞–ª—å–Ω—É —Å—É–º—É.

```java
// DonationJar.java (–í–µ—Ä—Å—ñ—è 1: –ù–µ–±–µ–∑–ø–µ—á–Ω–∞)
public class DonationJar {
    private long totalDonations = 0;

    // –ú–µ—Ç–æ–¥, —è–∫–∏–π –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ —Ö—Ç–æ—Å—å –¥–æ–Ω–∞—Ç–∏—Ç—å
    public void donate(long amount) {
        // –£–≤–∞–≥–∞! –¶—è –æ–ø–µ—Ä–∞—Ü—ñ—è –Ω–µ —î –∞—Ç–æ–º–∞—Ä–Ω–æ—é!
        // 1. –ü—Ä–æ—á–∏—Ç–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è totalDonations
        // 2. –î–æ–¥–∞—Ç–∏ –¥–æ –Ω—å–æ–≥–æ —Å—É–º—É (amount)
        // 3. –ó–∞–ø–∏—Å–∞—Ç–∏ –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞–∑–∞–¥
        totalDonations += amount;
    }

    public long getTotalDonations() {
        return totalDonations;
    }
}
```

–¢–µ–ø–µ—Ä –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ–¥–µ–º–æ —Å—Ç—Ä–µ—Å-—Ç–µ—Å—Ç. –£—è–≤—ñ–º–æ, —â–æ 2000 –ª—é–¥–µ–π –≤–∏—Ä—ñ—à–∏–ª–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –∑–∞–¥–æ–Ω–∞—Ç–∏—Ç–∏ –ø–æ 10 –≥—Ä–Ω. –ú–∏ –æ—á—ñ–∫—É—î–º–æ –ø–æ–±–∞—á–∏—Ç–∏ –Ω–∞ –±–∞–Ω—Ü—ñ 20 000 –≥—Ä–Ω.

```java
// Main.java (–°–∏–º—É–ª—è—Ç–æ—Ä)
public class Main {
    public static void main(String[] args) throws InterruptedException {
        DonationJar jar = new DonationJar();
        int numberOfDonators = 2000;
        long donationAmount = 10;

        Runnable donationTask = () -> {
            jar.donate(donationAmount);
        };

        // –°—Ç–≤–æ—Ä—é—î–º–æ 2000 "–ª—é–¥–µ–π", —è–∫—ñ —Ö–æ—á—É—Ç—å –∑–∞–¥–æ–Ω–∞—Ç–∏—Ç–∏
        Thread[] donators = new Thread[numberOfDonators];
        for (int i = 0; i < numberOfDonators; i++) {
            donators[i] = new Thread(donationTask);
        }

        // –í—Å—ñ –¥–æ–Ω–∞—Ç—è—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ!
        for (Thread donator : donators) {
            donator.start();
        }

        // –ß–µ–∫–∞—î–º–æ, –ø–æ–∫–∏ –≤—Å—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –ø—Ä–æ–π–¥—É—Ç—å
        for (Thread donator : donators) {
            donator.join();
        }

        System.out.println("–û—á—ñ–∫—É–≤–∞–ª–æ—Å—å –∑—ñ–±—Ä–∞—Ç–∏: " + (numberOfDonators * donationAmount));
        System.out.println("–§–∞–∫—Ç–∏—á–Ω–æ –∑—ñ–±—Ä–∞–Ω–æ: " + jar.getTotalDonations());
    }
}
```

**–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ü–µ–π –∫–æ–¥ –¥–µ–∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤.** –í–∏ –ø–æ–±–∞—á–∏—Ç–µ, —â–æ —Ñ–∞–∫—Ç–∏—á–Ω–æ –∑—ñ–±—Ä–∞–Ω–∞ —Å—É–º–∞ **–∑–∞–≤–∂–¥–∏ –º–µ–Ω—à–∞** –∑–∞ –æ—á—ñ–∫—É–≤–∞–Ω—É. –ú–∏ –≤—Ç—Ä–∞—Ç–∏–ª–∏ –≥—Ä–æ—à—ñ\! üò± –¶–µ —ñ —î **—Å—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏ (race condition)**. –î–≤–∞ –ø–æ—Ç–æ–∫–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–ª–∏ —Å—Ç–∞—Ä—É —Å—É–º—É, –¥–æ–¥–∞–ª–∏ –¥–æ –Ω–µ—ó —Å–≤—ñ–π –¥–æ–Ω–∞—Ç —ñ –ø–æ —á–µ—Ä–∑—ñ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –í–Ω–µ—Å–æ–∫ –æ–¥–Ω–æ–≥–æ –∑ –Ω–∏—Ö –ø—Ä–æ—Å—Ç–æ –∑–Ω–∏–∫.

-----

## –†—ñ—à–µ–Ω–Ω—è: `synchronized` ‚Äî –≥–∞—Ä–∞–Ω—Ç—ñ—è –∫–æ–∂–Ω–æ—ó –≥—Ä–∏–≤–Ω—ñ

–©–æ–± –∂–æ–¥–Ω–∞ –∫–æ–ø—ñ–π–∫–∞ –Ω–µ –∑–Ω–∏–∫–ª–∞, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –æ–ø–µ—Ä–∞—Ü—ñ—è "–ø—Ä–æ—á–∏—Ç–∞—Ç–∏-–∑–º—ñ–Ω–∏—Ç–∏-–∑–∞–ø–∏—Å–∞—Ç–∏" –±—É–¥–µ **–Ω–µ–ø–æ–¥—ñ–ª—å–Ω–æ—é (–∞—Ç–æ–º–∞—Ä–Ω–æ—é)**. –¢–æ–±—Ç–æ, –ø–æ–∫–∏ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –ø—Ä–∞—Ü—é—î –∑ –±–∞–ª–∞–Ω—Å–æ–º –±–∞–Ω–∫–∏, –≤—Å—ñ —ñ–Ω—à—ñ –ø–æ–≤–∏–Ω–Ω—ñ —á–µ–∫–∞—Ç–∏.

–î–ª—è —Ü—å–æ–≥–æ –≤ Java —ñ—Å–Ω—É—î –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `synchronized`. –í–æ–Ω–æ —Å—Ç–≤–æ—Ä—é—î **–º'—é—Ç–µ–∫—Å (–∑–∞–º–æ–∫)** –Ω–∞ –æ–±'—î–∫—Ç—ñ, –≥–∞—Ä–∞–Ω—Ç—É—é—á–∏, —â–æ –ª–∏—à–µ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ü–µ–π –º–µ—Ç–æ–¥ –æ–¥–Ω–æ—á–∞—Å–Ω–æ.

–î–∞–≤–∞–π—Ç–µ –≤–∏–ø—Ä–∞–≤–∏–º–æ –Ω–∞—à –∫–ª–∞—Å.

```java
// DonationJar.java (–í–µ—Ä—Å—ñ—è 2: –ë–µ–∑–ø–µ—á–Ω–∞)
public class DonationJar {
    private long totalDonations = 0;

    // –¢–µ–ø–µ—Ä —Ü–µ–π –º–µ—Ç–æ–¥ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫ –∑–∞ —Ä–∞–∑.
    // –Ü–Ω—à—ñ –±—É–¥—É—Ç—å —á–µ–∫–∞—Ç–∏ –≤ —á–µ—Ä–∑—ñ.
    public synchronized void donate(long amount) {
        totalDonations += amount;
    }

    public long getTotalDonations() {
        return totalDonations;
    }
}
```

–¶–µ —î–¥–∏–Ω–∞ –∑–º—ñ–Ω–∞, —è–∫–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∞. –Ø–∫—â–æ –≤–∏ —Ç–µ–ø–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä `Main.java`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç **–∑–∞–≤–∂–¥–∏ –±—É–¥–µ 20 000**. –ú–∏ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞–ª–∏, —â–æ –∫–æ–∂–µ–Ω –¥–æ–Ω–∞—Ç –±—É–¥–µ –≤—Ä–∞—Ö–æ–≤–∞–Ω–æ.

-----

## –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—è –ø–æ—Ç–æ–∫—ñ–≤: –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω `join()`?

–£ –Ω–∞—à–æ–º—É —Å–∏–º—É–ª—è—Ç–æ—Ä—ñ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ `donator.join()`. –¶–µ–π –º–µ—Ç–æ–¥ –∑–º—É—à—É—î –≥–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –ø—Ä–æ–≥—Ä–∞–º–∏ –¥–æ—á–µ–∫–∞—Ç–∏—Å—è, –ø–æ–∫–∏ –ø–æ—Ç—ñ–∫-–¥–æ–Ω–∞—Ç–æ—Ä –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–≤–æ—é —Ä–æ–±–æ—Ç—É.

–Ø–∫–±–∏ –º–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏ `join()`, –≥–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –Ω–µ —Å—Ç–∞–≤ –±–∏ —á–µ–∫–∞—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤—Å—ñ—Ö 2000 "—Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π" —ñ –º–∏—Ç—Ç—î–≤–æ –Ω–∞–¥—Ä—É–∫—É–≤–∞–≤ –±–∏ –ø—Ä–æ–º—ñ–∂–Ω–∏–π (—Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ, –Ω—É–ª—å–æ–≤–∏–π) —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –¶–µ —è–∫ –ø—ñ–¥–±–∏–≤–∞—Ç–∏ –ø—ñ–¥—Å—É–º–∫–∏ –∑–±–æ—Ä—É, –∫–æ–ª–∏ –ª—é–¥–∏ —â–µ –ø—Ä–æ–¥–æ–≤–∂—É—é—Ç—å –∫–∏–¥–∞—Ç–∏ –≥—Ä–æ—à—ñ –≤ —Å–∫—Ä–∏–Ω—å–∫—É.

-----

## –©–æ –¥–∞–ª—ñ? –ö–æ—Ä–æ—Ç–∫–∏–π –ø–æ–≥–ª—è–¥ —É –º–∞–π–±—É—Ç–Ω—î

–°—å–æ–≥–æ–¥–Ω—ñ –º–∏ –æ—Å–≤–æ—ó–ª–∏ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à—É –ø—Ä–æ–±–ª–µ–º—É, –∞–ª–µ, —è–∫ –≤–∏ –∑–Ω–∞—î—Ç–µ –∑ [–õ–µ–∫—Ü—ñ—ó 6](06_threads.md), —Å–≤—ñ—Ç –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ—Å—Ç—ñ –∑–Ω–∞—á–Ω–æ —à–∏—Ä—à–∏–π (Deadlock, Starvation, ReentrantLock, –∞—Ç–æ–º–∞—Ä–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–æ—â–æ):

  * **–°–µ–º–∞—Ñ–æ—Ä–∏ (`Semaphore`):** –ê —â–æ, —è–∫ –Ω–∞–º —Ç—Ä–µ–±–∞ –≤–ø—É—Å—Ç–∏—Ç–∏ –≤ –º–µ—Ç–æ–¥ –Ω–µ –æ–¥–Ω–æ–≥–æ, –∞, —Å–∫–∞–∂—ñ–º–æ, –ø'—è—Ç—å–æ—Ö "–≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤"? –î–ª—è —Ü—å–æ–≥–æ —ñ—Å–Ω—É—é—Ç—å —Å–µ–º–∞—Ñ–æ—Ä–∏, —è–∫—ñ –º–∞—é—Ç—å –ª—ñ—á–∏–ª—å–Ω–∏–∫ –¥–æ–∑–≤–æ–ª—ñ–≤.
  * **–í—ñ—Ä—Ç—É–∞–ª—å–Ω—ñ –ø–æ—Ç–æ–∫–∏ (Project Loom/Fibers):** –£ –Ω–æ–≤–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö Java –∑'—è–≤–∏–ª–∏—Å—è "–≤—ñ—Ä—Ç—É–∞–ª—å–Ω—ñ –ø–æ—Ç–æ–∫–∏" ‚Äî –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –ª–µ–≥–∫—ñ –ø–æ—Ç–æ–∫–∏, —è–∫–∏—Ö –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º—ñ–ª—å–π–æ–Ω–∏ –±–µ–∑ —à–∫–æ–¥–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º–∏. –¶–µ —Ä–µ–≤–æ–ª—é—Ü—ñ—è, —è–∫–∞ –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤.

-----

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1.  **–ü—Ä–æ–±–ª–µ–º–∞.** –ü–æ—è—Å–Ω—ñ—Ç—å —Å–≤–æ—ó–º–∏ —Å–ª–æ–≤–∞–º–∏, —è–∫ —Å–∞–º–µ –≤–∏–Ω–∏–∫–∞—î "–≤—Ç—Ä–∞—Ç–∞ –¥–æ–Ω–∞—Ç—ñ–≤" —É –ø–µ—Ä—à—ñ–π –≤–µ—Ä—Å—ñ—ó –∫–æ–¥—É. –û–ø–∏—à—ñ—Ç—å –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥—ñ–π –¥–≤–æ—Ö –ø–æ—Ç–æ–∫—ñ–≤, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–æ–º–∏–ª–∫–∏.
2.  **–¢–µ–æ—Ä—ñ—è.** –ß–æ–º—É –≤–∏–∫–ª–∏–∫ `thread.run()` –Ω–µ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫—É, –∞ `thread.start()` ‚Äî —Å—Ç–≤–æ—Ä—é—î?
3.  **–†—ñ—à–µ–Ω–Ω—è.** –Ø–∫—É –≥–∞—Ä–∞–Ω—Ç—ñ—é –Ω–∞–¥–∞—î –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `synchronized`? –ß–æ–º—É –¥—Ä—É–≥–∞ –≤–µ—Ä—Å—ñ—è –∫–ª–∞—Å—É `DonationJar` –∑–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ?
4.  **–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è.** –©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –ø—Ä–∏–±—Ä–∞—Ç–∏ —Ü–∏–∫–ª–∏ –∑ `thread.join()` –∑ –Ω–∞—à–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É —Å–∏–º—É–ª—è—Ü—ñ—ó –∑–±–æ—Ä—É –∫–æ—à—Ç—ñ–≤? –Ø–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∏, —Å–∫–æ—Ä—ñ—à –∑–∞ –≤—Å–µ, –ø–æ–±–∞—á–∏–º–æ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ?
5.  **–ê–Ω–∞–ª–æ–≥—ñ—è.** –£—è–≤—ñ—Ç—å, —â–æ —É –≤–∞—Å —î —Å–ø—ñ–ª—å–Ω–∏–π Google Doc, —è–∫–∏–π –æ–¥–Ω–æ—á–∞—Å–Ω–æ —Ä–µ–¥–∞–≥—É—é—Ç—å –¥–≤–æ—î –ª—é–¥–µ–π. –Ø–∫—ñ –ø—Ä–æ–±–ª–µ–º–∏, —Å—Ö–æ–∂—ñ –Ω–∞ "—Å—Ç–∞–Ω –≥–æ–Ω–∏—Ç–≤–∏", –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–Ω—É—Ç–∏?