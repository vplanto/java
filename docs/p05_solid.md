# –ü—Ä–∞–∫—Ç–∏–∫—É–º 5: –í—ñ–¥ —Å–ø–∞–≥–µ—Ç—ñ –¥–æ SOLID ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥—É

## ‚ö° –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è: –ó–≥–∞–¥—É—î–º–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏

–ù–∞ [–õ–µ–∫—Ü—ñ—ó 5](05_solid.md) –º–∏ –≤–∏–≤—á–∏–ª–∏ 5 –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SOLID. –î–∞–≤–∞–π—Ç–µ —à–≤–∏–¥–∫–æ –ø—Ä–∏–≥–∞–¥–∞—î–º–æ —Ç—Ä–∏ –∑ –Ω–∏—Ö:

1.  **"S" (SRP):** –ü—Ä–æ —â–æ –≥–æ–≤–æ—Ä–∏—Ç—å –ü—Ä–∏–Ω—Ü–∏–ø –Ñ–¥–∏–Ω–æ–≥–æ –û–±–æ–≤'—è–∑–∫—É?
2.  **"O" (OCP):** –Ø–∫ —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤—É—î—Ç—å—Å—è —ñ —â–æ –æ–∑–Ω–∞—á–∞—î –ü—Ä–∏–Ω—Ü–∏–ø –í—ñ–¥–∫—Ä–∏—Ç–æ—Å—Ç—ñ/–ó–∞–∫—Ä–∏—Ç–æ—Å—Ç—ñ?
3.  **"D" (DIP):** –í—ñ–¥ —á–æ–≥–æ –º–∏ *–ø–æ–≤–∏–Ω–Ω—ñ* –∑–∞–ª–µ–∂–∞—Ç–∏, —ñ –≤—ñ–¥ —á–æ–≥–æ ‚Äî *–Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ*?

<details markdown="1">
<summary>–ù–∞—à—ñ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è (–≤—ñ–¥–ø–æ–≤—ñ–¥—å)</summary>

1.  **SRP (Single Responsibility Principle):** –ö–ª–∞—Å –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –ª–∏—à–µ **–æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∑–º—ñ–Ω** (—Ç–æ–±—Ç–æ, –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω –æ–±–æ–≤'—è–∑–æ–∫).
2.  **OCP (Open/Closed Principle):** –ö–ª–∞—Å–∏ –º–∞—é—Ç—å –±—É—Ç–∏ **–≤—ñ–¥–∫—Ä–∏—Ç–∏–º–∏ –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è** (–¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É), –∞–ª–µ **–∑–∞–∫—Ä–∏—Ç–∏–º–∏ –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó** (–Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π, –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∏–π –∫–æ–¥).
3.  **DIP (Dependency Inversion Principle):** –ú–∏ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ **–∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π** (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤), –∞ –Ω–µ –≤—ñ–¥ **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π** (–∫–ª–∞—Å—ñ–≤).

</details>

–°—å–æ–≥–æ–¥–Ω—ñ –º–∏ –∑–∞—Å—Ç–æ—Å—É—î–º–æ —Ü—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏ –¥–ª—è "–ª—ñ–∫—É–≤–∞–Ω–Ω—è" –ø–æ–≥–∞–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–æ–≥–æ –∫–æ–¥—É.

## –í—Å—Ç—É–ø

–°—å–æ–≥–æ–¥–Ω—ñ –º–∏ –∑—Ä–æ–±–∏–º–æ —Ç–µ, —â–æ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ —Ä–æ–±–ª—è—Ç—å —â–æ–¥–Ω—è: –±—É–¥–µ–º–æ —Ä–æ–∑–±–∏—Ä–∞—Ç–∏ —á—É–∂–∏–π –∫–æ–¥. –ù–∞—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –≤–∏—Å—Ç—É–ø–∏—Ç–∏ –≤ —Ä–æ–ª—ñ –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä—ñ–≤, –ø–æ–¥–∏–≤–∏—Ç–∏—Å—å –Ω–∞ –ø—Ä–æ—î–∫—Ç –∑ –ø–∞–∫–µ—Ç—É `org.before.change` —ñ –∑–Ω–∞–π—Ç–∏ –≤ –Ω—å–æ–º—É –≤—Å—ñ "–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –≥—Ä—ñ—Ö–∏", —Å–ø–∏—Ä–∞—é—á–∏—Å—å –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∏ SOLID (—è–∫—ñ –º–∏ –¥–µ—Ç–∞–ª—å–Ω–æ –≤–∏–≤—á–∏–ª–∏ —É [–õ–µ–∫—Ü—ñ—ó 5](05_solid.md)). –ê –ø–æ—Ç—ñ–º –ø–æ–¥–∏–≤–∏–º–æ—Å—å, —è–∫ —Ü–µ–π –∫–æ–¥ –º–æ–∂–Ω–∞ "–≤–∏–ª—ñ–∫—É–≤–∞—Ç–∏".

-----

## –ü–∞—Ü—ñ—î–Ω—Ç: –ü–∞–∫–µ—Ç `org.before.change`

–ù–∞–º –Ω–∞ "–∫–æ–¥-—Ä–µ–≤'—é" –Ω–∞–¥—ñ–π—à–æ–≤ –Ω–µ–≤–µ–ª–∏–∫–∏–π –ø—Ä–æ—î–∫—Ç, —â–æ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ —Ç—Ä—å–æ—Ö –∫–ª–∞—Å—ñ–≤:

  * **`Item.java`**: –ü—Ä–æ—Å—Ç–∏–π –∫–ª–∞—Å –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ —Ç–æ–≤–∞—Ä.
  * **`Customer.java`**: –ö–ª–∞—Å –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –∫–ª—ñ—î–Ω—Ç–∞ —Ç–∞ –π–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.
  * **`ResturantExample.java`**: –û—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å, –¥–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤—Å—è "–º–∞–≥—ñ—è". –°–∞–º–µ –π–æ–≥–æ –º–∏ –±—É–¥–µ–º–æ –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏ –ø—ñ–¥ –º—ñ–∫—Ä–æ—Å–∫–æ–ø–æ–º.

-----

## –†–æ–∑—Ç–∏–Ω –ø–æ–∫–∞–∂–µ: –©–æ –Ω–µ —Ç–∞–∫ –∑ `ResturantExample.java`?

–ü–µ—Ä—à–µ, —â–æ –∫–∏–¥–∞—î—Ç—å—Å—è –≤ –æ—á—ñ ‚Äî —Ü–µ–π –∫–ª–∞—Å —î "–ª—é–¥–∏–Ω–æ—é-–æ—Ä–∫–µ—Å—Ç—Ä–æ–º". –í—ñ–Ω –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —Ä–æ–±–∏—Ç–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å–µ, —â–æ —î –ø—Ä—è–º–∏–º –ø–æ—Ä—É—à–µ–Ω–Ω—è–º –∫—ñ–ª—å–∫–æ—Ö –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SOLID.

### üëé –ü–æ—Ä—É—à–µ–Ω–Ω—è Single Responsibility Principle (SRP)

> **–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è:** –ö–ª–∞—Å –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –ª–∏—à–µ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∑–º—ñ–Ω.

–ù–∞—à –∫–ª–∞—Å –º–∞—î —â–æ–Ω–∞–π–º–µ–Ω—à–µ **—á–æ—Ç–∏—Ä–∏** –ø—Ä–∏—á–∏–Ω–∏ –¥–ª—è –∑–º—ñ–Ω:

1.  **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:** –í—ñ–Ω —Å–∞–º —Å—Ç–≤–æ—Ä—é—î —Ç–µ—Å—Ç–æ–≤—ñ –æ–±'—î–∫—Ç–∏ `Item` —Ç–∞ `Customer`.
2.  **–ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞:** –í—ñ–Ω —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î –≤–∞—Ä—Ç—ñ—Å—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —É –º–µ—Ç–æ–¥—ñ `calculateBill()`.
3.  **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–≤—ñ—Ç—ñ–≤:** –í—ñ–Ω –≤–º—ñ—î –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç–∏ —É —Ñ–æ—Ä–º–∞—Ç–∞—Ö CSV, PDF, JSON —Ç–∞ XML.
4.  **–ö–µ—Ä—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º:** –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É –∑–∞–ø—É—Å–∫—É –≤—Å—å–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É.

**–ß–æ–º—É —Ü–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞?** –£—è–≤—ñ—Ç—å, —â–æ –≤–∞–º —Ç—Ä–µ–±–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ª–æ–≥—ñ–∫—É —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –ø–æ–¥–∞—Ç–∫—É. –í–∏ –ª—ñ–∑–µ—Ç–µ –≤ –∫–ª–∞—Å, –¥–µ –ª–µ–∂–∏—Ç—å –ª–æ–≥—ñ–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–≤—ñ—Ç—ñ–≤. –û–¥–∏–Ω –Ω–µ–∑–≥—Ä–∞–±–Ω–∏–π —Ä—É—Ö ‚Äî —ñ –∑–≤—ñ—Ç–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏, —Ö–æ—á–∞ –≤–∏ —ó—Ö –Ω–µ —á—ñ–ø–∞–ª–∏. –¶–µ –∫—Ä–∏—Ö–∫–∏–π —Ç–∞ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π –¥–∏–∑–∞–π–Ω.

-----

### üëé –ü–æ—Ä—É—à–µ–Ω–Ω—è Open/Closed Principle (OCP)

> **–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è:** –ö–ª–∞—Å–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º–∏ –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è, –∞–ª–µ –∑–∞–∫—Ä–∏—Ç–∏–º–∏ –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

–ê —Ç–µ–ø–µ—Ä —É—è–≤—ñ—Ç—å, —â–æ –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —ñ –∫–∞–∂–µ: "–ù–∞–º —Ç–µ—Ä–º—ñ–Ω–æ–≤–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –∑–≤—ñ—Ç–∏ —â–µ –π —É —Ñ–æ—Ä–º–∞—Ç—ñ HTML\!". –©–æ –º–∏ –±—É–¥–µ–º–æ —Ä–æ–±–∏—Ç–∏?

–ü—Ä–∞–≤–∏–ª—å–Ω–æ, –º–∏ –∑–º—É—à–µ–Ω—ñ –ª—ñ–∑—Ç–∏ –≤ –Ω–∞—à `ResturantExample` —ñ –¥–æ–ø–∏—Å—É–≤–∞—Ç–∏ —â–µ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ `generateReportHTML()`. –ö–ª–∞—Å –Ω–µ "–∑–∞–∫—Ä–∏—Ç–∏–π" –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –ö–æ–∂–Ω–∞ –Ω–æ–≤–∞ –≤–∏–º–æ–≥–∞ –∑–º—É—à—É—î –Ω–∞—Å —Ä–∏–∑–∏–∫–æ–≤–∞–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Å—Ç–∞—Ä–∏–π, –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–π –∫–æ–¥.

-----

### üëé –ü–æ—Ä—É—à–µ–Ω–Ω—è Dependency Inversion Principle (DIP)

> **–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è:** –ó–∞–ª–µ–∂—Ç–µ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π, –∞ –Ω–µ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π.

–¶–µ–π –∫–ª–∞—Å —Å—Ç—Ä–∞–∂–¥–∞—î –Ω–∞ "–Ω–∞–¥–º—ñ—Ä–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å". –í—ñ–Ω –Ω–µ –¥–æ–≤—ñ—Ä—è—î –Ω—ñ–∫–æ–º—É —ñ —Å—Ç–≤–æ—Ä—é—î –≤—Å—ñ —Å–≤–æ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Å–∞–º. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–Ω –∂–æ—Ä—Å—Ç–∫–æ –ø—Ä–∏–≤'—è–∑–∞–Ω–∏–π –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –¥–∞–Ω–∏—Ö, —è–∫—ñ —Å—Ç–≤–æ—Ä—é—î —Å–∞–º (`new Item(...)`).

**–ß–æ–º—É —Ü–µ –ø–æ–≥–∞–Ω–æ?**

  * **–ù–µ–º–æ–±—ñ–ª—å–Ω—ñ—Å—Ç—å:** –¶–µ–π –∫–æ–¥ –Ω–µ–º–æ–∂–ª–∏–≤–æ –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤ —ñ–Ω—à–æ–º—É –º—ñ—Å—Ü—ñ –∑ —ñ–Ω—à–∏–º–∏ –¥–∞–Ω–∏–º–∏.
  * **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** –Ø–∫ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –º–µ—Ç–æ–¥ `calculateBill()` –∑ 10 —Ä—ñ–∑–Ω–∏–º–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏? –ù—ñ—è–∫. –ú–∏ –Ω–µ –º–æ–∂–µ–º–æ "–ø—ñ–¥—Å—É–Ω—É—Ç–∏" –π–æ–º—É —ñ–Ω—à—ñ –¥–∞–Ω—ñ, –±–æ –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î —ó—Ö —Å–∞–º.

-----

## –í–∏—Å–Ω–æ–≤–æ–∫ –∞–Ω–∞–ª—ñ–∑—É

–ù–∞—à –¥—ñ–∞–≥–Ω–æ–∑: –∫–æ–¥ —É `ResturantExample` ‚Äî —Ü–µ –∫–ª–∞—Å–∏—á–Ω–∏–π **"—Å–ø–∞–≥–µ—Ç—ñ-–∫–æ–¥"**. –í—ñ–Ω **–∫—Ä–∏—Ö–∫–∏–π** (–∑–º—ñ–Ω–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ –ª–∞–º–∞—é—Ç—å —ñ–Ω—à–µ), **–∂–æ—Ä—Å—Ç–∫–∏–π** (–π–æ–≥–æ –≤–∞–∂–∫–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏) —Ç–∞ **–Ω–µ–º–æ–±—ñ–ª—å–Ω–∏–π** (–π–æ–≥–æ –Ω–µ–º–æ–∂–ª–∏–≤–æ –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏).

–î–∞–ª—ñ –º–∏ –ø—Ä–æ–≤–µ–¥–µ–º–æ **—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** —ñ –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —è–∫ —Ü—ñ –ø—Ä–æ–±–ª–µ–º–∏ –º–æ–∂–Ω–∞ –≤–∏—Ä—ñ—à–∏—Ç–∏.

-----

## –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –õ—ñ–∫—É—î–º–æ –Ω–∞—à –∫–æ–¥

**–ú–µ—Ç–∞:** –ü–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞—à "—Å–ø–∞–≥–µ—Ç—ñ-–∫–æ–¥" –Ω–∞ –≥–Ω—É—á–∫—É, –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—É —Ç–∞ –ª–µ–≥–∫—É –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º—É, –¥–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SOLID.

-----

## –ê–Ω–∞–ª—ñ–∑ –∑–º—ñ–Ω: –ü–∞–∫–µ—Ç `org.after.change`

–ü–µ—Ä—à–µ, —â–æ –º–∏ –±–∞—á–∏–º–æ –ø—ñ—Å–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É ‚Äî –ø–æ—Ä—è–¥–æ–∫. –ó–∞–º—ñ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—É-–∑–≤–∞–ª–∏—â–∞ –º–∏ –º–∞—î–º–æ —á—ñ—Ç–∫—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–∫–µ—Ç—ñ–≤, –¥–µ –∫–æ–∂–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ —Å–≤–æ—é –∑–æ–Ω—É: `billing`, `customer`, `order`, `product`, `report`. –¶–µ –≤–∂–µ –Ω–∞—Ç—è–∫ –Ω–∞ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è SRP.

-----

## –Ø–∫ –±—É–ª–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø–æ—Ä—É—à–µ–Ω–Ω—è SOLID

–î–∞–≤–∞–π—Ç–µ –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —è–∫ –Ω–æ–≤–∏–π –¥–∏–∑–∞–π–Ω –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º–∏, —è–∫—ñ –º–∏ –¥—ñ–∞–≥–Ω–æ—Å—Ç—É–≤–∞–ª–∏.

### ‚úÖ –Ø–∫ –º–∏ –ø–æ–±–æ—Ä–æ–ª–∏ SRP —Ç–∞ OCP?

**–ü—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞:** –û–¥–∏–Ω –∫–ª–∞—Å —Ä–æ–±–∏–≤ —É—Å–µ.

**–†—ñ—à–µ–Ω–Ω—è:** –ú–∏ —Ä–æ–∑–±–∏–ª–∏ –≤–µ–ª–∏–∫–∏–π –∫–ª–∞—Å –Ω–∞ –º–∞–ª–µ–Ω—å–∫—ñ, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö —Ä–æ–±–∏—Ç—å –ª–∏—à–µ –æ–¥–Ω—É —Å–ø—Ä–∞–≤—É.

1.  **–°—Ç–≤–æ—Ä–∏–ª–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏**, —è–∫—ñ –æ–ø–∏—Å—É—é—Ç—å "–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏" –∞–±–æ "—Ä–æ–ª—ñ": `Bill`, `Order`, `Report`, `Item`.
2.  **–°—Ç–≤–æ—Ä–∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–ª–∞—Å–∏**, —â–æ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —Ü—ñ —Ä–æ–ª—ñ. –¢–µ–ø–µ—Ä –∫–æ–∂–µ–Ω –º–∞—î **–æ–¥–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å (SRP)**:
      * `RegularBill` —Ç–∞ `RegularTaxBill` –≤–º—ñ—é—Ç—å **—Ç—ñ–ª—å–∫–∏** —Ä–∞—Ö—É–≤–∞—Ç–∏.
      * `JSONReport` –≤–º—ñ—î **—Ç—ñ–ª—å–∫–∏** –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ JSON.
      * `RegularOrder` –≤–º—ñ—î **—Ç—ñ–ª—å–∫–∏** –∫–µ—Ä—É–≤–∞—Ç–∏ —Å–ø–∏—Å–∫–æ–º —Ç–æ–≤–∞—Ä—ñ–≤.

**–Ø–∫ —Ü–µ –≤–∏–ø—Ä–∞–≤–∏–ª–æ OCP?** –¢–µ–ø–µ—Ä —Å–∏—Å—Ç–µ–º–∞ **–≤—ñ–¥–∫—Ä–∏—Ç–∞ –¥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è**.

  * **–ü–æ—Ç—Ä—ñ–±–µ–Ω PDF-–∑–≤—ñ—Ç?** –õ–µ–≥–∫–æ\! –°—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–∏–π –∫–ª–∞—Å `class PDFReport implements Report { ... }`. –°—Ç–∞—Ä–∏–π –∫–æ–¥ –Ω–µ —á—ñ–ø–∞—î–º–æ.
  * **–ü–æ—Ç—Ä—ñ–±–µ–Ω —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑—ñ –∑–Ω–∏–∂–∫–æ—é?** –ù–µ–º–∞ –ø—Ä–æ–±–ª–µ–º\! –°—Ç–≤–æ—Ä—é—î–º–æ `class DiscountBill implements Bill { ... }`.

### ‚úÖ –ê —â–æ –∑ ISP —Ç–∞ DIP?

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ (ISP)** —Ç–µ–ø–µ—Ä –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –±–æ –º–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –º–∞–ª—ñ, —Å—Ñ–æ–∫—É—Å–æ–≤–∞–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ (`Bill`, `Report`, `Order`).

**–ü—Ä–∏–Ω—Ü–∏–ø —ñ–Ω–≤–µ—Ä—Å—ñ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (DIP)** —Ç–µ–ø–µ—Ä —Ç–µ–∂ —É –≥—Ä—ñ.
**–ü—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞:** –ö–ª–∞—Å–∏ –∑–∞–ª–µ–∂–∞–ª–∏ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π.

**–†—ñ—à–µ–Ω–Ω—è:** –¢–µ–ø–µ—Ä –∫–ª–∞—Å–∏ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ **–∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤)**.

  * –ú–µ—Ç–æ–¥ `calculateTotal` —É –∫–ª–∞—Å—ñ `RegularBill` –ø—Ä–∏–π–º–∞—î –æ–±'—î–∫—Ç —Ç–∏–ø—É **`Order`** (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å), –∞ –Ω–µ `RegularOrder` (–∫–ª–∞—Å). –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤—ñ–Ω –º–æ–∂–µ –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –∞–±–∏ –≤–æ–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `Order`.

–¶–µ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É **—Å–ª–∞–±–∫–æ –∑–≤'—è–∑–∞–Ω–æ—é (loosely coupled)**. –ú–∏ –º–æ–∂–µ–º–æ –ª–µ–≥–∫–æ –ø—ñ–¥–º—ñ–Ω—è—Ç–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, —â–æ –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.

-----

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1.  **OCP.** –í–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Å–∏—Ç—å –¥–æ–¥–∞—Ç–∏ –∑–≤—ñ—Ç–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ XML. –û–ø–∏—à—ñ—Ç—å –≤–∞—à—ñ –¥—ñ—ó –≤ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ `after.change`. –Ø–∫—ñ —Ñ–∞–π–ª–∏ –≤–∏ —Å—Ç–≤–æ—Ä–∏—Ç–µ? –ß–∏ –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –≤–∞–º –∑–º—ñ–Ω—é–≤–∞—Ç–∏ `JSONReport.java`?
2.  **DIP.** –ö–ª–∞—Å `RegularTaxBill` –≤—Å–µ —â–µ –º—ñ—Å—Ç–∏—Ç—å —Ä—è–¥–æ–∫ `new RegularBill()`. –¶–µ –Ω–µ–≤–µ–ª–∏–∫–µ –ø–æ—Ä—É—à–µ–Ω–Ω—è DIP. –Ø–∫ –±–∏ –≤–∏ "–≤–∏–ª—ñ–∫—É–≤–∞–ª–∏" —Ü–µ–π –∫–ª–∞—Å, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ Dependency Injection —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —â–æ–± –≤—ñ–Ω –∑–∞–ª–µ–∂–∞–≤ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó `Bill`?
3.  **SRP.** –°–≤–æ—ó–º–∏ —Å–ª–æ–≤–∞–º–∏, —è–∫–∞ —î–¥–∏–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –∫–ª–∞—Å—É `RegularOrder` —É –Ω–æ–≤—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ?
4.  **LSP.** –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ItemPrice` —Ä–æ–∑—à–∏—Ä—é—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Item`. –£—è–≤—ñ—Ç—å, —â–æ —É –≤–∞—Å —î —Ñ—É–Ω–∫—Ü—ñ—è `void printItemName(Item item)`. –ß–∏ –±—É–¥–µ –±–µ–∑–ø–µ—á–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –≤ –Ω–µ—ó –æ–±'—î–∫—Ç —Ç–∏–ø—É `RegularItem`? –Ø–∫–∏–π –ø—Ä–∏–Ω—Ü–∏–ø SOLID —Ü–µ –≥–∞—Ä–∞–Ω—Ç—É—î?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—ñ (—Å–ø—Ä–æ–±—É–π—Ç–µ —Å–ø–æ—á–∞—Ç–∫—É –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ —Å–∞–º—ñ)</summary>

1.  **OCP:** –ú–∏ **–Ω–µ –±—É–¥–µ–º–æ** –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∂–æ–¥–µ–Ω —ñ—Å–Ω—É—é—á–∏–π –∫–ª–∞—Å (–≤–∫–ª—é—á–∞—é—á–∏ `JSONReport.java`). –ú–∏ **—Ä–æ–∑—à–∏—Ä–∏–º–æ** —Å–∏—Å—Ç–µ–º—É:

    1.  –°—Ç–≤–æ—Ä–∏–º–æ –Ω–æ–≤–∏–π –∫–ª–∞—Å `public class XMLReport implements Report`.
    2.  –†–µ–∞–ª—ñ–∑—É—î–º–æ –≤ –Ω—å–æ–º—É —î–¥–∏–Ω–∏–π –º–µ—Ç–æ–¥ `generate(Order order)`, —è–∫–∏–π –±—É–¥–µ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ XML.
    3.  –í—Å–µ. –ö–ª–∞—Å –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.

2.  **DIP:** –©–æ–± "–≤–∏–ª—ñ–∫—É–≤–∞—Ç–∏" `RegularTaxBill`, –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –≤—ñ–Ω –∑–∞–ª–µ–∂–∞–≤ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó `Bill`, –∞ –Ω–µ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—É `RegularBill`.

    ```java
    public class RegularTaxBill implements Bill {
        private final Bill originalBill; // 1. –ó–∞–ª–µ–∂–∏–º–æ –≤—ñ–¥ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
        private final double taxRate;

        // 2. –û—Ç—Ä–∏–º—É—î–º–æ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (Dependency Injection)
        public RegularTaxBill(Bill originalBill, double taxRate) {
            this.originalBill = originalBill;
            this.taxRate = taxRate;
        }

        @Override
        public double calculateTotal(Order order) {
            double total = originalBill.calculateTotal(order); // 3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—é
            return total + (total * taxRate);
        }
    }
    ```

3.  **SRP:** –Ñ–¥–∏–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å `RegularOrder` ‚Äî —Ü–µ **–∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–ø–∏—Å–∫–æ–º —Ç–æ–≤–∞—Ä—ñ–≤ —É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ**. –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –¥–æ–¥–∞–≤–∞—Ç–∏, –≤–∏–¥–∞–ª—è—Ç–∏ —Ç–æ–≤–∞—Ä–∏ —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —ó—Ö —Å–ø–∏—Å–æ–∫. –í—ñ–Ω –±—ñ–ª—å—à–µ –Ω–µ –≤–º—ñ—î —Ä–∞—Ö—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—É –≤–∞—Ä—Ç—ñ—Å—Ç—å —á–∏ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç–∏.

4.  **LSP:** –¢–∞–∫, —Ü–µ –±—É–¥–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ –±–µ–∑–ø–µ—á–Ω–æ. `RegularItem` —Ä–µ–∞–ª—ñ–∑—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ItemPrice`, —è–∫–∏–π, —É —Å–≤–æ—é —á–µ—Ä–≥—É, —Ä–æ–∑—à–∏—Ä—é—î `Item`. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ `RegularItem` *–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ* "—î" (`is-a`) `Item`. **–ü—Ä–∏–Ω—Ü–∏–ø –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä–∏ –õ—ñ—Å–∫–æ–≤ (LSP)** –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –º–∏ –º–æ–∂–µ–º–æ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫–æ–≥–æ –Ω–∞—â–∞–¥–∫–∞ (`RegularItem`) –∑–∞–º—ñ—Å—Ç—å –±–∞—Ç—å–∫–∞ (`Item`), —ñ –ø—Ä–æ–≥—Ä–∞–º–∞ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ.

</details>